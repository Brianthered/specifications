:revdate: {docdate}
:version-label!:
:sectnums:
:sectnumlevels: 5
:chapter-label: ContentBindings
:source-highlighter: rouge

## Guidance on the use of Content Bindings

### Guidance on Hard Bindings

Every C2PA manifest is required to have a hard binding to its associated digital asset. Use of hard bindings prevents collision-based attacks associated with soft bindings described below.

Selection of the specific hashing algorithm to use for a hard binding should be made based on the requirements of the workflow. In the absence of some compelling reason to do otherwise, it is recommended to use SHA-256.  

### Guidance on use of Soft Bindings 

Asset metadata (including any manifest present) may be routinely removed or corrupted by legacy or non-C2PA capable platforms during distribution.  This is common, for example, on social media platforms that display asset renditions (e.g. altering the resolution, form factor or quality of the digital content) that do not have the appropriate C2PA manifests declaring those modifications.  Whilst these renditions may not create user perceptible change, they nevertheless change the underlying binary representation of the digital content.  

Soft bindings provide a means for identifying manifests that have become `decoupled’ from their associated assets in these circumstances.  

Examples of soft bindings are content fingerprints (such as perceptual hashes) computed from the digital content, or watermarks embedded within the digital content.

Consider a repository (provenance datastore) into which manifests may be stored.  A content creator may, at the time of publishing an asset, opt in to the additional storage of that asset’s manifest into the provenance datastore.  For this workflow, the manifest contains at least one soft binding - for example, a perceptual hash of the digital content. 

Soft bindings may be used to identify manifests that have become decoupled from their associated assets.  When a consumer encounters an asset with no manifest, but would like information on the asset's provenance, they may compute a soft binding and use it to query the provenance datastore.  The provenance datastore would return any manifests that match that soft binding, for subsequent validation.

An alternative application of soft bindings is to mitigate the threat whereby an attacker substitutes the manifest within an asset with another valid manifest in an attempt to explain that asset with false provenance.  In circumstances where a consumer wishes for further information on the asset's provenance, a similar query may be made using the soft binding to return alternative manifests within the repository for the consumer’s consideration.  Information within the returned manifests (such as timestamps or digital signatures) may inform subsequent trust decisions made by the consumer on that asset.

#### Illustrative Scenarios for the use of Soft Bindings

1. Recovery from stripping of metadata 
+
Alice is a photojournalist, and captures a photo of an important event, editing it to enhance visibility of some of the content. Alice’s camera device is C2PA capable, as is her image editing tool, and so a C2PA manifest is added to document the capture and editing of her photo. The C2PA manifest is signed by Alice’s own key. Bob works for Acme Corp, a news publisher, who wishes to license Alice’s photo for their publication. Bob decides to trust the content from Alice due to the presence of a C2PA manifest documenting its provenance. Bob incorporates the photo into a composed image for his publication, using a C2PA capable editing tool. The C2PA manifest is signed by Acme Corp. A soft binding assertion is computed by Acme Corp and added to the manifest prior to signing. A copy of the manifest is stored within a provenance datastore maintained by a consortium of news providers. Bob publishes the photo and it is soon redistributed around social media.
+
Charlie is a news consumer and member of the general public. Charlie views a rendition of the photo on social media. The social media platform is not C2PA capable and no C2PA manifest is contained within the rendition. Furthermore, the rendition of the photo has different resolution / form factor and changed by the social media platform.
+
Charlie wants to know about the provenance of the photo, since it documents an important event. Charlie right-clicks and submits the photo via a browser plug-in to a look-up service operated by a federation of news organisations, of which Acme Corp is a member. Charlie’s browser software computes the soft binding of the photo and send it to that service. Charlie is directed to a web page generated by the service showing matching assets. Charlie visually verifies that the retrieved asset matches the photo he is interested in, and views the manifest. Charlie uses the information in the manifest to help make an informed trust decision based on the provenance of the photo.

2. Recovery from adversarial substitution of manifest 
+
Alice is a citizen journalist, and captures a video of major civil unrest using a C2PA capable device, and edits it using C2PA capable editing software. After signing the manifest in her video, a copy of the manifest is stored within a provenance datastore maintained by a consortium of news providers. The manifest contains both a hard and a soft binding. Several years pass.
+
Mallory wishes to use Alice’s video to substantiate his story about a recent civil unrest. Mallory strips the C2PA manifest  from Alice’s video and substitutes his own manifest. The manifest is signed and the video asset is distributed online.
+
Bob is a news producer who receives Mallory’s video. Bob suspects the video is fake news. Bob computes a soft binding of the video and submits it to a provenance service of which his organization is a member. The service retrieves the manifest associated with Alice’s video. Bob visually verifies the retrieved manifest matches the video (it includes a thumbnail) and validates the manifest. Bob notices that Alice’s manifest contains signed assertions with a timestamp earlier than those of Mallory’s video. Bob uses knowledge of this previous existing manifest to help make a more informed trust decision on whether to trust the provenance of Mallory’s video.  Bob concludes not to trust Mallory's video, since an earlier manifest explains the video with an alternative provenance trail.

3. Preserving provenance through non-C2PA capable toolchains
+
Acme Corp maintains a content production pipeline where some stages are non-C2PA capable. Bob receives a photograph from freelance photographer Alice, containing a valid C2PA manifest. Bob's software inserts into the digital content of the image a watermark containing a unique identifier, and records the unique identifier as a soft binding assertion in the manifest. The manifest is placed within a provenance datastore maintained internally by Acme Corp. The content passes through legacy content production processes that strip the C2PA manifest. The final stages of production are C2PA compliant. The watermark is read from the image and submitted as a query to the provenance datastore run internally by Acme Corp. After passing through the non-C2PA tools, the manifest is automatically matched using the embedded watermark, and is included as an ingredient in a new manifest, which documents that actions have been performed on the content prior to entering the C2PA capable final stage of the pipeline.  The manifest is embedded into the asset in the usual way. The content is published and provenance of the image may be traced back to Alice by end consumers of the content.

#### Guidance on Soft Binding Implementation

Soft bindings are not guaranteed to be exact, and so care should be taken in their use.  Consider perceptual hashing; a common form of soft binding algorithm.  By design, multiple renditions of the same digital content may generate the same soft binding.  However different digital content, or renditions thereof, may generate the same soft binding either in error or due to attacks on the hashing function (for example, adversarial attacks on machine learning models).  Therefore we make the following design recommendation on the implementation of soft bindings in C2PA.

1. Soft bindings must not be substituted for hard bindings in order to bind claims within a manifest.   
+
2. The matches made using a soft binding must be interactively verified via human-in-the-loop checking.  For example, a thumbnail of an image stored within the manifest might be displayed to aid visual verification of the match made using a soft binding.  
+
3. Hard bindings (cryptographic hashes) may be used as an alternative to soft bindings, to query manifests within a provenance datastore.   However this method will fail if the digital content has been modified (for example, is an asset rendition).
+
4. We recommend that services provided for the lookup of manifests using hard or soft bindings advertise the types of binding that may be used as query, using the unique identifier of that binding (per the hard or soft binding registry).

#### Trust and Privacy Considerations

To mitigate risks to user privacy, we recommend that the consumer should be informed explicitly (for example, via opt in) to the querying of the provenance datastore.  For example, a consumer may interactively initiate a query for an asset containing no manifest in order to to recover provenance information about that asset. 

To mitigate risks to user privacy and to preserve bandwidth, we recommend that the soft binding used to query the provenance datastore is computed on the client side to avoid transmission of query asset to the lookup service.  

It is unlikely that a single centralized provenance datastore will emerge for all content.   Rather it is anticipated that decentralized model will evolve in which multiple federated provenance datastores might emerge for different industry verticals, for example a coalition of news broadcasters might maintain a federated service for soft binding lookup based upon their own provenance datastores.

To promote the interoperability of independent services that query provenance datastores, we recommend that a standard communication protocol be established for clients to send queries to the soft binding lookup services and for returning manifests to clients.

Trust in the lookup process is derived from trust in the integrity of the provenance datastore.  It may be desirable to use a decentralized, immutable data technology, such as a distributed ledger or blockchain, to underwrite the integrity of the provenance datastore.


